{% load static %}

<nav class="navbar navbar-light" style="background-color: cadetblue">
  <div class="container">
    <a class="navbar-brand" href="{% url 'posts:index' %}">
      <img
        src="{% static 'img/logo.png' %}"
        width="30"
        height="30"
        class="d-inline-block align-top"
        alt="">
      <span style="color:white">Ya</span>tube</a>
    </a>
    {% with request.resolver_match.view_name as view_name %} 
      <ul class="nav nav-pills">
        <li class="nav-item"> 
          <a class="nav-link {% if view_name  == 'about:author' %}link-dark bg-light{% else %}link-light{% endif %}"
            href="{% url 'about:author' %}"
          >
            Об авторе
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link {% if view_name  == 'about:tech' %}link-dark bg-light{% else %}link-light{% endif %}"
            href="{% url 'about:tech' %}"
          >
            Технологии
          </a>
        </li>
        {% if user.is_authenticated %}
          <li class="nav-item"> 
            <a class="nav-link {% if view_name  == 'posts:post_create' %}link-dark bg-light{% else %}link-light{% endif %}" 
              href="{% url 'posts:post_create' %}"
            >
              Новая запись
            </a>
          </li>
          <li class="nav-item"> 
            <a class="nav-link
              {% if view_name  == 'posts:profile' %}
                link-dark bg-light
              {% else %}
                link-light
              {% endif %}" 
              href="{% url 'posts:profile' user.username %}"
            >
              @{{ user.username }}
            </a>
          </li>
          <li class="nav-item"> 
            <a class="nav-link {% if view_name  == 'users:password_change' %}link-dark bg-light{% else %}link-light{% endif %}"
              href="{% url 'users:password_change' %}"
            >
              Изменить пароль
            </a>
          </li>
          <li class="nav-item"> 
            <a class="nav-link link-light" href="{% url 'users:logout' %}">Выйти</a>
          </li>
        {% else %}
          <li class="nav-item"> 
            <a class="nav-link {% if view_name  == 'users:login' %}link-dark bg-light{% else %}link-light{% endif %}"
              href="{% url 'users:login' %}"
            >
              Войти
            </a>
          </li>
          <li class="nav-item"> 
            <a class="nav-link {% if view_name  == 'users:signup' %}link-dark bg-light{% else %}link-light{% endif %}"
              href="{% url 'users:signup' %}"
            >
              Регистрация
            </a>
          </li>
        {% endif %}
      </ul>
    {% endwith %}
  </div>
</nav> 